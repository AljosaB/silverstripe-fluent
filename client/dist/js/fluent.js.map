{"version":3,"sources":["webpack:///webpack/bootstrap bb0142d0fd2f7da6a155","webpack:///./client/src/bundles/fluent.js"],"names":["window","jQuery","entwine","$","onmatch","_super","hideName","data","target","closest","is","hide","show","onunmatch","onchange","slideUp","slideDown","fluentConfig","section","ss","config","sections","find","next","name","fluent","locales","title","buttonTitle","selector","prop","text","forEach","locale","item","code","split","attr","append","prepend"],"mappings":"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","file":"js/fluent.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bb0142d0fd2f7da6a155","window.jQuery.entwine('ss', ($) => {\n  // CMS admin extensions\n  $('input[data-hides]').entwine({\n    onmatch() {\n      this._super();\n      const hideName = this.data('hides');\n      const target = $(`[name='${hideName}']`).closest('.field');\n      if (this.is(':checked')) {\n        target.hide();\n      } else {\n        target.show();\n      }\n    },\n    onunmatch() {\n      this._super();\n    },\n    onchange() {\n      const hideName = this.data('hides');\n      const target = $(`[name='${hideName}']`).closest('.field');\n      if (this.is(':checked')) {\n        target.slideUp();\n      } else {\n        target.slideDown();\n      }\n    },\n  });\n\n  /**\n   * Activation for cms menu\n   */\n  $('.cms > .cms-container > .cms-menu > .cms-panel-content').entwine({\n    /**\n     * Get section config for fluent\n     *\n     * @return {Object}\n     */\n    fluentConfig() {\n      const section = 'TractorCow\\\\Fluent\\\\Control\\\\LocaleAdmin';\n      if (window\n        && window.ss\n        && window.ss.config\n        && window.ss.config.sections\n      ) {\n        const config = window.ss.config.sections.find((next) => next.name === section);\n        if (config) {\n          return config.fluent || {};\n        }\n      }\n      return {};\n    },\n\n    /**\n     * Generate the locale selector when activated\n     */\n    onmatch() {\n      this._super();\n      const config = this.fluentConfig();\n      // Skip if no locales defined\n      if (typeof config.locales === 'undefined' || typeof config.title === 'undefined') {\n        return;\n      }\n      const buttonTitle = config.title;\n      const selector = $(\n        `<div class='cms-fluent-selector'>\n          <span class='icon icon-16 icon-fluent-translate'>&nbsp;</span>\n          <span class='text'></span>\n          <a class='cms-fluent-selector-flydown' type='button'>\n            <span class='icon icon-fluent-select'></span>\n          </a>\n          <ul class='cms-fluent-selector-locales'></ul>\n        </div>`\n      );\n      $('.cms-fluent-selector-flydown', selector).prop('title', buttonTitle);\n      $('.cms-fluent-selector-flydown span', selector).text(buttonTitle);\n\n      // Create options\n      config.locales.forEach((locale) => {\n        const item = $(\n          \"<li><a><span class='full-title'></span><span class='short-title'></span></a></li>\"\n        );\n        $('.full-title', item).text(locale.title);\n        $('.short-title', item).text(locale.code.split('_')[0]);\n        $('a', item)\n          .attr('data-locale', locale.code)\n          .attr('title', locale.title);\n        $('.cms-fluent-selector-locales', selector).append(item);\n      });\n\n      // Display selected locale\n      $('.text', selector).text(config.locales[config.locale]);\n\n      this.prepend(selector);\n    },\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/fluent.js"],"sourceRoot":""}